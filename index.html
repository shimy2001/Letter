<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snowy House Scene</title>
    <style>
body {
    font-family: 'Arial', sans-serif;
    background-color: #241E4E;
    padding: 0;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow-x: hidden;
}

.container {
    height: 350px;
    width: 350px;
    border-radius: 50%;
    position: absolute;
    cursor: grab;
    transition: transform 0.2s ease-in-out;
}

.snow {
    height: 40px;
    width: 235px;
    background-color: white;
    position: relative;
    left: 60px;
    top: 280px;
    border-radius: 8px;
}

.tree1 {
    height: 0;
    width: 0;
    border-bottom: 120px solid #5b6b09;
    border-left: 20px solid transparent;
    border-right: 20px solid transparent;
    position: relative;
    left: 70px;
    top: 120px;
}

.tree2 {
    height: 0;
    width: 0;
    border-bottom: 90px solid #718710;
    border-left: 24px solid transparent;
    border-right: 24px solid transparent;
    position: relative;
    left: 90px;
    top: 30px;
}

.house {
    position: relative;
    bottom: 78px;
    left: 146px;
}

.roof1 {
    height: 60px;
    width: 12px;
    background-color: #7e110f;
    transform: skew(30deg);
    position: relative;
    left: 112px;
    bottom: 18.5px;
}

.wall1 {
    height: 0;
    width: 0;
    border-bottom: 53px solid #c44e0e;
    border-left: 30px solid transparent;
    border-right: 31px solid transparent;
    position: relative;
    bottom: 75px;
    left: 68px;
}

.wall2 {
    height: 70px;
    background-color: #c44e0e;
    width: 150px;
    position: relative;
    bottom: 75px;
    right: 21px;
}

.door {
    background-color: #7f1414;
    height: 40px;
    width: 20px;
    position: relative;
    bottom: 20px;
    left: 112px;
    border-right: 2px solid #ef2021;
}

.handle {
    height: 8px;
    width: 4px;
    background-color: #cccccc;
    position: relative;
    top: 16px;
    left: 3px;
}

.snowfall {
    background: url(https://i.imgur.com/T0mBFg2.png);
    background-size: 350px 200px;
    background-repeat: repeat;
    height: 350px;
    width: 350px;
    position: relative;
    bottom: 493px;
    border-radius: 50%;
    animation: snowfall 5s linear infinite;
}

@keyframes snowfall {
    0% { background-position: 0 0; }
    100% { background-position: 100px 100px; }
}

@keyframes fastSnowfall {
    0% { background-position: 0 0; }
    100% { background-position: 100px 200px; }
}

.cover {
    background-color: rgba(255, 255, 255, 0.2);
    height: 350px;
    width: 350px;
    border-radius: 50%;
    position: relative;
    bottom: 842px;
    display: flex;
    justify-content: center;
    align-items: flex-end;
    text-align: center;
}

.cover p {
    font-size: 1.5em;
        font-weight: bold;
        color: black;
        text-transform: uppercase;
        letter-spacing: 2px;
        text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.4);
        animation: bounce 1.5s infinite alternate ease-in-out;
    margin-bottom: -27px;
}


      @keyframes bounce {
        0% { transform: translateY(0); }
        100% { transform: translateY(-5px); }
    }

    @keyframes shake {
        0% { transform: translateX(0); }
        25% { transform: translateX(-3px) rotate(-2deg); }
        50% { transform: translateX(3px) rotate(2deg); }
        75% { transform: translateX(-3px) rotate(-2deg); }
        100% { transform: translateX(3px) rotate(2deg); }
    }

/* Riddle Card */
.riddle-card {
    display: none;
    background: rgba(0, 0, 0, 0.5);
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    max-width: 400px;
    width: 90%;
    transition: transform 0.3s ease-in-out;
    opacity: 0;
    animation: fadeIn 2s ease-in-out forwards;
}

/* Title of the riddle card */
.riddle-card h1 {
    font-size: 2.1rem;
    color: #fff;
    text-align: center;
    margin-bottom: 20px;
    text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
    font-family: 'Pacifico', cursive; /* Unique font for vibrancy */
    animation: fadeIn 1.5s ease-in-out;
}

.riddle-card h1::before {
    content: "❓ ";
}

.riddle-card h1::after {
    content: " ❓";
}

/* Message text styling */
.riddle-card .message {
    font-size: 1.5rem;
    color: #fff;
    text-align: center;
    margin-bottom: 30px;
    font-weight: bold;
    text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
    animation: fadeIn 2s ease-in-out;
}

/* Color options container */
.color-container {
    display: flex;
    margin: 20px auto;
    position: relative;
    justify-content: space-around;
    width: 100%;
    transition: opacity 0.5s ease-in-out;
}

/* Color options style */
.color-option {
    width: 120px;
    height: 120px;
    border-radius: 15px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: white;
    font-weight: bold;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.5s ease-in-out;
}

/* Blue color option */
.blue {
    background-color: #2196F3;
    transform: scale(1);
}

.blue:hover {
    transform: scale(1.1);
    box-shadow: 0 8px 20px rgba(33, 150, 243, 0.4);
}

/* Black color option */
.black {
    background-color: #000;
    transform: scale(1);
}

.black:hover {
    transform: scale(1.1);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
}

/* Hidden correct answer (slow reveal) */
.hidden-area {
    width: 120px;
    height: 120px;
    position: relative;
    cursor: pointer;
    background: linear-gradient(45deg, #000000, #1a1a80);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    background-size: 200% 200%;
    animation: gradientShift 3s infinite alternate ease-in-out;
    opacity: 0;
    transition: opacity 1s ease-in-out, width 1s ease-in-out, height 1s ease-in-out, left 1s ease-in-out;
    border-radius: 15px;
}

/* Gradient shift animation */
@keyframes gradientShift {
    0% {
        background-position: 0% 0%;
    }
    100% {
        background-position: 100% 100%;
    }
}

/* Enlarged and centered state after selection */
.hidden-area.revealed {
    width: 180px;
    height: 180px;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
    opacity: 1;
}

/* Feedback text */
.feedback {
    font-size: 1.2rem;
    font-weight: bold;
    color: #e74c3c;
    background: linear-gradient(45deg, #e74c3c, #f39c12);
    text-align: center;
    margin-top: 20px;
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

/* Beautiful "You Got It" Message */
.correct-message {
    font-size: 1.5rem;
    color: #ff69b4; /* Set a default color for browsers that don't support background clip */
    font-weight: bold;
    text-align: center;
    margin-top: 30px;
    opacity: 0;
    transition: opacity 1s ease-in-out;
    background: linear-gradient(45deg, #ffffff, #ff69b4);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.2);
}

/* Fade-in animation */
@keyframes fadeIn {
    0% {
        opacity: 0;
        transform: translateY(-20px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Hover effects for color options */
.color-option:hover {
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25);
}

/* Animation for feedback visibility */
.feedback.visible {
    opacity: 1;
}

.correct-message.visible {
    opacity: 1;
}


/* Disappear effect */
.disappear {
    opacity: 0 !important;
    pointer-events: none;
}

.emoji {
    display: inline;
    font-size: 1.2em;
    color: #e74c3c !important; /* Force the color */
    background: none !important; /* Remove any background */
    -webkit-background-clip: initial !important;
    -webkit-text-fill-color: initial !important;
}

  #envelope {
    display: none;
        transition: opacity 1s ease-in-out;   
        font-family: 'Arial', sans-serif;
        background: linear-gradient(135deg, #ff6f61, #ffbc00);
        color: #fff;
        height: 100%;
        width: 100%;
        margin: 0;
        }


/* Flex container to hold both the envelope and the div */
        .envelope-card {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 80%;
            max-width: 1200px;
            height: 300px;
        }

        /* Div to hold any text or content */
        .content {
             text-align: center;
        background: rgba(0, 0, 0, 0.5);
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 500px;
        width: 90%;
        }

        .content h1{
            font-size: 3em;
        font-family: 'Pacifico', cursive;
        color: #fff;
        text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.4);
        margin-bottom: 20px;
        animation: fadeIn 1.5s ease-in-out;
        }

        .content p {
        font-size: 1.2em;
        margin-bottom: 10px;
        line-height: 1.5;
        color: #ffe600;
        text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
        animation: fadeIn 2s ease-in-out;
    }

    .content p:nth-child(odd) {
        color: #ff80a0;
    }

    .content p:nth-child(even) {
        color: #ffb3e6;
    }

    /* Animation */
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .content p:hover {
        color: #fff;
        transform: scale(1.05);
        transition: all 0.3s ease-in-out;
    }

        /* Envelope styles */
        .letter-image {
            display: block;
            position: relative;
            width: 200px;
            height: 200px;
            cursor: pointer;
        }

        .animated-mail {
            position: absolute;
            height: 150px;
            width: 200px;
            transition: .4s;
        }

        .body {
            position: absolute;
            bottom: 0;
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 0 0 100px 200px;
            border-color: transparent transparent #e95f55 transparent;
            z-index: 2;
        }

        .top-fold {
            position: absolute;
            top: 50px;
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 50px 100px 0 100px;
            transform-origin: 50% 0%;
            transition: transform .4s .4s, z-index .2s .4s;
            border-color: #cf4a43 transparent transparent transparent;
            z-index: 2;
        }

        .back-fold {
            position: absolute;
            bottom: 0;
            width: 200px;
            height: 100px;
            background: #cf4a43;
            z-index: 0;
        }

        .left-fold {
            position: absolute;
            bottom: 0;
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 50px 0 50px 100px;
            border-color: transparent transparent transparent #e15349;
            z-index: 2;
        }

        .letter {
            left: 20px;
            bottom: 0px;
            position: absolute;
            width: 160px;
            height: 60px;
            background: white;
            z-index: 1;
            overflow: hidden;
            transition: .4s .2s;
        }

        .letter-border {
            height: 10px;
            width: 100%;
            background: repeating-linear-gradient(
                -45deg,
                #cb5a5e,
                #cb5a5e 8px,
                transparent 8px,
                transparent 18px
            );
        }

        .letter-title {
            margin-top: 10px;
            margin-left: 5px;
            height: 10px;
            width: 40%;
            background: #cb5a5e;
        }

        .letter-context {
            margin-top: 10px;
            margin-left: 5px;
            height: 10px;
            width: 20%;
            background: #cb5a5e;
        }

        .letter-stamp {
            margin-top: 30px;
            margin-left: 120px;
            border-radius: 100%;
            height: 30px;
            width: 30px;
            background: #cb5a5e;
            opacity: 0.3;
        }

        .shadow {
            position: absolute;
            top: 200px;
            left: 50%;
            width: 400px;
            height: 30px;
            transition: .4s;
            transform: translateX(-50%);
            border-radius: 100%;
            background: radial-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.0), rgba(0,0,0,0.0));
        }

        .letter-image:hover {
            .animated-mail {
                transform: translateY(50px);
            }

            .animated-mail .top-fold {
                transition: transform .4s, z-index .2s;
                transform: rotateX(180deg);
                z-index: 0;
            }

            .animated-mail .letter {
                height: 180px;
            }

            .shadow {
                width: 250px;
            }
        }

         /* Hidden letter (starts hidden) */
                        .letter-content {
                    display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            width: 80%;
            max-width: 600px;
            height: 80vh;
            background: linear-gradient(to bottom, #fffaf0, #f9e8c8);
            padding: 30px;
            box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.3);
            z-index: 2;
            transition: transform 1s ease-out;
            border-radius: 15px;
            overflow-y: auto;
            border: 5px solid #d4af37;
            font-size: 1.1em;
            line-height: 1.6;
        }

        .letter-content p {
            color: #3a1c1a;
            text-align: justify;
            margin-bottom: 15px;
        }

        .letter-content p:first-child {
            font-family: 'Dancing Script', cursive;
            font-size: 1.8em;
            text-align: center;
            font-weight: bold;
            color: #8b0000;
        }

        .letter-content p:last-child {
            font-style: italic;
            text-align: right;
            font-weight: bold;
            color: #7b4b3a;
        }

        .letter-content p span {
            color: #b22222;
            font-weight: bold;
        }

        .letter-content::-webkit-scrollbar {
            width: 8px;
        }

        .letter-content::-webkit-scrollbar-thumb {
            background: #d4af37;
            border-radius: 10px;
        }

        /* Envelope animation for showing letter */
        .show-letter .letter-content {
    display: block;
   transform: translate(-50%, -50%) scale(1); /* Center and expand */
}

         .wax-seal {
            width: 80px;
            height: 80px;
            background: #a52a2a;
            position: absolute;
            top: 2px;
            left: 90%;
            transform: translateX(-50%);
            border-radius: 50%;
            box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            color: #fff;
            font-family: 'Dancing Script', cursive;
        }

         @media (max-width: 768px) {
    .envelope-card {
        flex-direction: column; /* Stack elements vertically */
        align-items: center;    /* Center the content */
        height: auto;           /* Allow container height to adjust */
    }

    .content {
        order: 1; /* Make sure the content appears first */
        text-align: center;
        background: rgba(0, 0, 0, 0.5);
        padding: 20px;
        margin-bottom: 20px;  /* Space between content and letter-image */
        box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 500px;
        width: 90%;
    }

    .letter-image {
        order: 2; /* Move letter-image to the bottom */
        margin-bottom: 0;   /* Remove bottom margin on mobile */
    }
}

    </style>
</head>
<body>
    <div class="container" id="globe">
        <div class="snow"></div>
        <div class="tree1"></div>
        <div class="tree2"></div>
        <div class="house">
            <div class="roof1"></div>
            <div class="wall1"></div>
            <div class="wall2">
                <div class="door">
                    <div class="handle"></div>
                </div>
            </div>
        </div>
        <div class="snowfall"></div>
        <div class="cover">
            <p>Shake Me</p>
        </div>
    </div>

    <!-- Riddle Card -->
    <div class="riddle-card" id="riddle">
        <h1>Do you know me😂</h1>
        <p class="message">What is my favorite color?</p>

         <div class="color-container" id="colorContainer">
            <div class="color-option blue" onclick="checkAnswer('blue')">Blue</div>
            <div class="hidden-area" id="hiddenDiv" onclick="checkAnswer('correct')"></div>
            <div class="color-option black" onclick="checkAnswer('black')">Black</div>
        </div>

        <p class="feedback" id="feedback"></p>
        <p class="correct-message" id="correctMessage">I was just messing with you but you know both are my favourites <span class="emoji">🥰😂😂</span>.</p>
    </div>

    <!-- Envelope Section -->
    <section id="envelope">
        <div class="envelope-card">
        <!-- Content div (text or message) -->
            <div class="content">
                <h1>Jeanne Kaycee</h1>
                <p>I'm so happy to send you this little surprise.😊</p>
                <p>Sorry about the game, I had to be extra you know😂</p>
                <p>Click on the envelope to see it unfold, and discover something special just for you!</p>
                <p>Hope this brings a smile to your face today! 💖</p>
            </div>

            <!-- Envelope div -->
            <div class="letter-image" onclick="revealLetter()">
        <div class="animated-mail">
            <div class="back-fold"></div>
            <div class="letter">
                <div class="letter-border"></div>
                <div class="letter-title"></div>
                <div class="letter-context"></div>
                <div class="letter-stamp">
                    <div class="letter-stamp-inner"></div>
                </div>
            </div>
            <div class="top-fold"></div>
            <div class="body"></div>
            <div class="left-fold"></div>
        </div>
        <div class="shadow"></div>
        <div class="letter-content">
             <p>Hello snuggles,</p>
    <p>There’s nothing quite like a handwritten note, but I wanted to add my own little twist to it. Receiving your letter was an experience I never thought I’d have, and I don’t think you realize just how much <span>joy</span> it brought me. It’s a sentiment I’ll treasure forever. This is me, writing a letter of reply, and I love the fact that we’re constantly pushing each other to find new ways to appreciate each other. Our standards are gonna be ridiculously high lol.</p>
    <p>Coincidence? Maybe not. Fate? Probably. Whatever force brought us back together, I’m <span>grateful</span> for it. You’ve made me question my own introversion, cause what do you mean we literally say goodbye a million times, yet the conversation never really ends? It’s a new experience for me, and you unlocked that part of me effortlessly.</p>
    <p>The saying "<i>it takes one to know one</i>" has never felt more true. Just as you shower me with love, compliments, and kindness, know that in my eyes, you are a million times more—<span>understanding, generous, caring, vibrant, considerate...</span> simply perfection. Even tricking me so that I can exercise will not work again, I’m onto you 😂😂</p>
    <p>I thank you for sharing your family with me too. I always wanted a sisteeerrrrrr 😂 and now I have <span>3 girls</span> I can disturb. 😂😂 Just give me some time to grow comfortable and not feel like I’m imposing on you guys.</p>
    <p>As the year progresses, I do hope that we grow closer and closer, creating lasting memories and getting to do more activities together. And even if life takes us in different directions, we’ll always make time for each other cause when you find something good, you <span>hold on for dear life.</span> And you, Kaycee, are that something good.</p>
    <p>Bear with me, I do joke a lot sometimes, so don’t kick me to the curb for that 😂 How about I make up for all the times I’ve disturbed you with a little secret you’ve been wanting to know? I did tell you I’m ticklish, you just don’t know where. Honestly, I don’t know how you never thought to tickle my feet, cause you would have been already torturing me. 😭😂</p>
    <p>Btw, you gotta come teach me this handwriting of yours so that next time I write you a note 😂😂 It’s so lovely, just like everything about you. I <span>cherish, love, value, and adore</span> you more than words can say. Thank you for adding joy, positivity, and love into my life. You deserve the world, and I know you’re going to get it.</p>
    <p>Lots of love,</p>
    <p>Your <span>Opps, Hater, Morio, Potential Fiancée, Babes, Extrovert</span> 😂😂</p>
            <div class="wax-seal">❤️</div>
        </div>
    </div>
        </div>
    </section>

    <script>
const globe = document.querySelector("#globe");
const snowfall = document.querySelector(".snowfall");
const riddleCard = document.querySelector("#riddle");
const envelopeCard = document.querySelector("#envelope");

let isDragging = false, startX, offsetX, moved = false;

globe.addEventListener("mousedown", (e) => {
    isDragging = true;
    startX = e.clientX;
    offsetX = globe.offsetLeft;
    moved = false;
    globe.style.cursor = "grabbing";
});

document.addEventListener("mousemove", (e) => {
    if (isDragging) {
        let moveX = e.clientX - startX + offsetX;
        let maxX = window.innerWidth - 350;
        moveX = Math.max(0, Math.min(maxX, moveX));
        globe.style.left = `${moveX}px`;

        if (Math.abs(e.clientX - startX) > 10) {
            moved = true;
            shakeGlobe();
        }
    }
});

document.addEventListener("mouseup", () => {
    if (isDragging) {
        isDragging = false;
        globe.style.cursor = "grab";
    }
});

// For handling shake by hand (touch)
globe.addEventListener("touchstart", (e) => {
    isDragging = true;
    startX = e.touches[0].clientX;
    offsetX = globe.offsetLeft;
    moved = false;
    globe.style.cursor = "grabbing";
});

globe.addEventListener("touchmove", (e) => {
    if (isDragging) {
        let moveX = e.touches[0].clientX - startX + offsetX;
        let maxX = window.innerWidth - 350;
        moveX = Math.max(0, Math.min(maxX, moveX));
        globe.style.left = `${moveX}px`;

        if (Math.abs(e.touches[0].clientX - startX) > 10) {
            moved = true;
            shakeGlobe(); // Trigger shake effect when moved
        }
    }
});

document.addEventListener("touchend", () => {
    if (isDragging) {
        isDragging = false;
        globe.style.cursor = "grab";
    }
});

// For device motion (physical shake detection)
let shakeThreshold = 15; // Minimum acceleration change to trigger shake
let lastX, lastY, lastZ;
let isShaking = false;

function handleShakeEvent(event) {
    const { accelerationIncludingGravity } = event;
    const x = accelerationIncludingGravity.x;
    const y = accelerationIncludingGravity.y;
    const z = accelerationIncludingGravity.z;

    if (lastX && lastY && lastZ) {
        const deltaX = Math.abs(x - lastX);
        const deltaY = Math.abs(y - lastY);
        const deltaZ = Math.abs(z - lastZ);

        if (deltaX > shakeThreshold || deltaY > shakeThreshold || deltaZ > shakeThreshold) {
            if (!isShaking) {
                isShaking = true;
                shakeGlobe(); // Trigger shake effect on shake
            }
        } else {
            isShaking = false;
        }
    }

    lastX = x;
    lastY = y;
    lastZ = z;
}

window.addEventListener("deviceorientation", handleShakeEvent, false);

// Trigger the shake animation
function shakeGlobe() {
    globe.animate([
        { transform: "translateX(5px) rotate(2deg)" },
        { transform: "translateX(-5px) rotate(-2deg)" },
        { transform: "translateX(5px) rotate(2deg)" },
        { transform: "translateX(0) rotate(0deg)" }
    ], { duration: 400, iterations: 2 });

    setTimeout(fadeOutGlobe, 800);  // Start fading out faster after shake
}

function shakeGlobe() {
    globe.animate([
        { transform: "translateX(5px) rotate(2deg)" },
        { transform: "translateX(-5px) rotate(-2deg)" },
        { transform: "translateX(5px) rotate(2deg)" },
        { transform: "translateX(0) rotate(0deg)" }
    ], { duration: 400, iterations: 2 });

    setTimeout(fadeOutGlobe, 800);  // Start fading out faster after shake
}

function fadeOutGlobe() {
    globe.style.transition = "opacity 0.8s ease-out";
    globe.style.opacity = "0";
    setTimeout(() => {
        globe.style.display = "none";
        riddleCard.style.display = "block";
        riddleCard.style.opacity = "1";
    }, 800);
}

let attempts = 0;
let opacityLevel = 0;
const opacityIncrement = 0.03;
const maxOpacity = 0.3;

const firstFeedback = [
    "Are you really Jeanne? <span class='emoji'>🤔</span>",
    "Wow, you really don't know me. <span class='emoji'>😢</span>",
    "Maybe this is Eunice! <span class='emoji'>👀</span>",
    "I knew you hate me. <span class='emoji'>💔</span>",
    "Keep trying, maybe you'll get it... eventually. <span class='emoji'>🤷‍♂️</span>",
    "Audrey, Gabby, Ethan, give your sister the phone. <span class='emoji'>📞</span><span class='emoji'>😂</span>",
    "I don't know what to say now. <span class='emoji'>🤦‍♀️</span>",
    "Thought you'd have gotten it by now. <span class='emoji'>😅</span>",
    "Lemme go cry. <span class='emoji'>😭</span>"
];

const secondFeedback = [
    "At this point, I think you're just testing me. <span class='emoji'>😆</span>",
    "Even Google would be confused by your choices. <span class='emoji'>🤯</span>",
    "You're on a roll… just in the wrong direction. <span class='emoji'>🏹</span><span class='emoji'>🎯</span><span class='emoji'>❌</span>",
    "Are you colorblind or just having fun? <span class='emoji'>🎨</span><span class='emoji'>😂</span>",
    "Even my pet hamster would’ve gotten it by now. <span class='emoji'>🐹</span><span class='emoji'>💡</span>",
    "This is starting to feel like a comedy show. <span class='emoji'>🎭</span><span class='emoji'>🤣</span>",
    "I should start charging you per wrong answer. <span class='emoji'>💰</span><span class='emoji'>😜</span>",
    "If this was an exam, I'd recommend guessing 'C'. <span class='emoji'>📝</span><span class='emoji'>📚</span>",
    "Plot twist: You actually enjoy being wrong. <span class='emoji'>🔄</span><span class='emoji'>😆</span>",
    "Let's pretend this never happened and try again. <span class='emoji'>🤫</span><span class='emoji'>😂</span>"
];


function checkAnswer(choice) {
    if (choice === "correct") {
        // Hide the other two options smoothly
        document.querySelectorAll(".color-option").forEach(el => el.classList.add("disappear"));

        // Hide feedback
        document.getElementById("feedback").classList.add("disappear");

        // Make the correct div bigger and fully visible
        let hiddenDiv = document.getElementById("hiddenDiv");
        hiddenDiv.classList.add("revealed");
        hiddenDiv.style.opacity = "1"; // Ensure full opacity

        // Show the correct message
        let correctMessage = document.getElementById("correctMessage");
        correctMessage.style.opacity = "1";

        // Hide the riddle card text content
        document.querySelector(".riddle-card .message").style.opacity = "0";
        document.querySelector(".riddle-card p:nth-of-type(2)").style.opacity = "0";

        // Fade out the riddle card and show the envelope
        setTimeout(() => {
            fadeOutRiddle();
        }, 1500); // Delay for better transition effect
    } else {
        attempts++;

        if (attempts >= 11 && opacityLevel < maxOpacity) {
            opacityLevel = Math.min(opacityLevel + opacityIncrement, maxOpacity);
            document.getElementById("hiddenDiv").style.opacity = opacityLevel.toString();
        }

        let feedbackSet = attempts <= 9 ? firstFeedback : secondFeedback;
        let feedbackElement = document.getElementById("feedback");
        feedbackElement.innerHTML = feedbackSet[(attempts - 1) % feedbackSet.length];
        feedbackElement.style.opacity = "1";
    }
}

function fadeOutRiddle() {
    let riddleCard = document.querySelector(".riddle-card");
    let envelopeCard = document.getElementById("envelope");

    // Ensure riddle card has a transition effect
    riddleCard.style.transition = "transform 1s ease-out, opacity 1s ease-out";
    riddleCard.style.transformOrigin = "left center"; // Makes rotation look better
    riddleCard.style.transform = "translateX(-100vw) rotate(-25deg)"; // Moves left and rotates
    riddleCard.style.opacity = "0";

    // Wait for animation to finish before hiding and showing the envelope
    setTimeout(() => {
        riddleCard.style.display = "none"; // Hide riddle card
        envelopeCard.style.display = "flex"; // Set envelope display to flex (for centering)
        envelopeCard.style.opacity = "1"; // Smooth fade-in

        // Apply the styles to the envelope after it appears
        envelopeCard.style.justifyContent = "center";
        envelopeCard.style.alignItems = "center";
    }, 3000); // Matches transition duration
}



 document.addEventListener("DOMContentLoaded", function () {
    const letterImage = document.querySelector('.letter-image');
    const letterContent = document.querySelector('.letter-content');
    const waxSeal = document.querySelector('.wax-seal');

    function revealLetter() {
        letterImage.classList.add('show-letter');
    }

    function closeLetter(event) {
        if (event.target === waxSeal) {
            letterImage.classList.remove('show-letter');
        }
    }

    letterImage.addEventListener("click", revealLetter);
    letterContent.addEventListener("click", (event) => event.stopPropagation()); // Prevent clicks inside from closing
    waxSeal.addEventListener("click", closeLetter);
});

</script>
</body>
</html>
